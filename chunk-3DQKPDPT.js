import{a as k,b as h,c as T,d as f,e as D,f as M,g as G,i as U,j as q,k as V,l as A}from"./chunk-GVV6EIYG.js";import{a as B}from"./chunk-NZMGJ6BS.js";import{c as w,d as F,g as R}from"./chunk-EAOQ4LPA.js";import{q as L}from"./chunk-235OK6Z2.js";import{$a as d,Ba as x,Pa as s,bb as u,bc as _,d as j,db as c,gb as t,gc as E,hb as o,ia as m,ib as r,kb as S,lb as b,ma as C,pb as l,sc as N,tb as y}from"./chunk-YBZANQQV.js";var O=j(B());function I(e,i){e&1&&r(0,"i",12)}function P(e,i){e&1&&r(0,"i",12)}function z(e,i){e&1&&r(0,"i",12)}function H(e,i){if(e&1&&(t(0,"button",15),l(1," Crear cuenta "),o()),e&2){let g=b();u("disabled",g.registroForm.invalid)}}function J(e,i){if(e&1&&(t(0,"button",16),r(1,"i",20),l(2," Cargando... "),o()),e&2){let g=b();u("disabled",g.loading)}}var ne=(()=>{let i=class i{constructor(){this.fb=m(V),this.authService=m(L),this.router=m(w),this.destroy=m(x),this.store=m(N)}ngOnInit(){this.registroForm=this.fb.group({nombre:["",f.required],correo:["",f.required],password:["",f.required]}),this.store.select("ui").pipe(E(this.destroy)).subscribe(p=>{this.loading=p.isLoading})}crearUsuario(){if(this.registroForm.invalid)return;let{nombre:p,correo:a,password:n}=this.registroForm.value;this.store.dispatch(k()),this.authService.crearUsuario(p,a,n).then(()=>{this.store.dispatch(h()),this.router.navigate(["/"])}).catch(v=>{this.store.dispatch(h()),O.default.fire({icon:"error",title:"Oops...",text:v.message})})}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=C({type:i,selectors:[["app-register"]],standalone:!0,features:[y],decls:35,vars:5,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],["action","#",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"input-group","h-100"],["type","email","placeholder","Correo","formControlName","correo",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-check-circle","text-success"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/login",1,"text-black","text-small"],[1,"fa","fa-spin","fa-sync"]],template:function(a,n){a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),l(5,"Registro"),o(),t(6,"div",5)(7,"form",6),S("ngSubmit",function(){return n.crearUsuario()}),t(8,"div",7)(9,"div",8),r(10,"input",9),t(11,"div",10)(12,"span",11),d(13,I,1,0,"i",12),o()()()(),t(14,"div",7)(15,"div",8),r(16,"input",13),t(17,"div",10)(18,"span",11),d(19,P,1,0,"i",12),o()()()(),t(20,"div",7)(21,"div",8),r(22,"input",14),t(23,"div",10)(24,"span",11),d(25,z,1,0,"i",12),o()()()(),t(26,"div",7),d(27,H,2,1,"button",15)(28,J,3,1,"button",16),o(),t(29,"div",17)(30,"span",18),l(31,"ya tienes una cuenta?"),o(),r(32,"br"),t(33,"a",19),l(34,"Login"),o()()()()()()()()),a&2&&(s(7),u("formGroup",n.registroForm),s(6),c(n.registroForm.get("correo").valid?13:-1),s(6),c(n.registroForm.get("password").valid?19:-1),s(6),c(n.registroForm.get("nombre").valid?25:-1),s(2),c(n.loading?28:27))},dependencies:[_,R,F,A,G,T,D,M,U,q]});let e=i;return e})();export{ne as a};
