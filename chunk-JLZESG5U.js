import{a as N,b as x,c as M,d as G,e as A,f as q,g as R,h as L,i as j,j as B}from"./chunk-Z6UW565V.js";import{a as z}from"./chunk-NZMGJ6BS.js";import{a as T,b as v}from"./chunk-2YQW6YIB.js";import{a as O}from"./chunk-JXR2CKAH.js";import"./chunk-6CDK5G3D.js";import{$a as h,Ba as w,Pa as p,bb as _,bc as k,d as U,db as E,gb as i,gc as V,hb as e,ia as c,ib as m,jb as C,kb as d,lb as u,ma as F,pb as r,sc as D,tb as I,wa as b,xa as f}from"./chunk-YBZANQQV.js";var S=U(z());var g=class{constructor(o,a,s,n){this.descripcion=o,this.monto=a,this.tipo=s,this.uid=n}};function H(t,o){if(t&1){let a=C();i(0,"button",15),d("click",function(){b(a);let n=u();return f(n.tipo="egreso")}),r(1," Ingreso "),e()}}function J(t,o){if(t&1){let a=C();i(0,"button",16),d("click",function(){b(a);let n=u();return f(n.tipo="ingreso")}),r(1," Egreso "),e()}}function K(t,o){if(t&1&&(i(0,"button",12),m(1,"i",17),r(2," Agregar "),e()),t&2){let a=u();_("disabled",a.ingresoForm.invalid)}}function P(t,o){t&1&&(i(0,"button",13),m(1,"i",18),r(2," Guardando... "),e())}var se=(()=>{let o=class o{constructor(){this.tipo="ingreso",this.fb=c(j),this.ingresoEgresoService=c(O),this.store=c(D),this.destroy=c(w)}ngOnInit(){this.ingresoForm=this.fb.group({descripcion:["",x.required],monto:["",x.required]}),this.store.select("ui").pipe(V(this.destroy)).subscribe(({isLoading:s})=>{this.loading=s})}guardar(){if(this.ingresoForm.invalid)return;this.store.dispatch(T());let{descripcion:s,monto:n}=this.ingresoForm.value,l=new g(s,n,this.tipo);this.ingresoEgresoService.crearIngresoEgreso(l).then(()=>{this.ingresoForm.reset(),this.store.dispatch(v()),S.default.fire("Registro creado",s,"success")}).catch(y=>{this.store.dispatch(v()),S.default.fire("Error",y.message,"error")})}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=F({type:o,selectors:[["app-ingreso-egreso"]],standalone:!0,features:[I],decls:30,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","placeholder","Descripci\xF3n","name","descripcion","formControlName","descripcion",1,"form-control"],["type","number","placeholder","Monto","name","monto","formControlName","monto",1,"form-control"],["type","button",1,"btn","btn-primary","btn-block"],["type","button",1,"btn","btn-warning","btn-block"],["type","submit",1,"btn","btn-success","mr-2",3,"disabled"],["disabled","",1,"btn","btn-success","mr-2"],["type","reset",1,"btn","btn-light"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-warning","btn-block",3,"click"],[1,"fa","fa-save"],[1,"fa","fa-spin","fa-sync"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),r(5,"Agregar Ingreso / Egreso"),e(),i(6,"p",5),r(7,"Especifique el monto y el tipo"),e(),i(8,"form",6),d("ngSubmit",function(){return l.guardar()}),i(9,"div",7)(10,"label"),r(11,"Descripci\xF3n"),e(),m(12,"input",8),e(),i(13,"div",7)(14,"label"),r(15,"Monto"),e(),m(16,"input",9),i(17,"p"),r(18,"Debe de ser un monto positivo"),e()(),i(19,"div",7)(20,"label"),r(21,"Tipo"),e(),m(22,"br"),h(23,H,2,0,"button",10)(24,J,2,0,"button",11),e(),m(25,"hr"),h(26,K,3,1,"button",12)(27,P,3,0,"button",13),i(28,"button",14),r(29,"Cancelar"),e()()()()()()),n&2&&(p(8),_("formGroup",l.ingresoForm),p(15),E(l.tipo==="ingreso"?23:24),p(3),E(l.loading?27:26))},dependencies:[k,B,A,N,q,M,G,R,L],encapsulation:2});let t=o;return t})();export{se as IngresoEgresoComponent};
