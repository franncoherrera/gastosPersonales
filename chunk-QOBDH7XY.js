import{b as C,e as v,h as N}from"./chunk-3RNCUIGT.js";import{$a as b,Ba as x,Ga as E,Hb as w,Pa as l,Yb as F,Zb as M,ac as T,bb as g,bc as B,gb as o,gc as L,hb as i,ia as p,ib as d,lb as D,ma as h,pb as r,rb as m,sc as O,tb as c,ub as S,va as y,vb as u,wb as f}from"./chunk-YBZANQQV.js";C.register(...v);var j=C;var q=(()=>{let t=class t{constructor(){this.totalIngresos=E.required(),this.totalEgresos=E.required(),this.cd=p(w),this.doughnutChartLabels=["Ingresos","Egresos"],this.doughnutChartData={labels:this.doughnutChartLabels,datasets:[{data:[0,0]}]},this.doughnutChartType="doughnut",j.register(...v)}ngOnInit(){this.doughnutChartData={labels:this.doughnutChartLabels,datasets:[{data:[this.totalIngresos(),this.totalEgresos()]}]}}ngOnChanges(n){(n.totalIngresos||n.totalEgresos)&&this.updateChartData()}updateChartData(){this.doughnutChartData={labels:this.doughnutChartLabels,datasets:[{data:[this.totalIngresos(),this.totalEgresos()]}]}}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=h({type:t,selectors:[["app-chart"]],inputs:{totalIngresos:[1,"totalIngresos"],totalEgresos:[1,"totalEgresos"]},standalone:!0,features:[y,c],decls:1,vars:2,consts:[["baseChart","",3,"data","type"]],template:function(s,e){s&1&&d(0,"canvas",0),s&2&&g("data",e.doughnutChartData)("type",e.doughnutChartType)},dependencies:[N]});let a=t;return a})();var k=(a,t)=>({"text-success":a,"text-danger":t});function G(a,t){if(a&1&&(o(0,"div",19)(1,"div",2)(2,"div",3)(3,"h1",20),r(4,"Gr\xE1fica"),i(),d(5,"app-chart",21),i()()()),a&2){let I=D();l(5),g("totalIngresos",I.totalIngresos)("totalEgresos",I.totalEgresos)}}var et=(()=>{let t=class t{constructor(){this.ingresos=0,this.egresos=0,this.totalEgresos=0,this.totalIngresos=0,this.store=p(O),this.destroy=p(x)}ngOnInit(){this.store.select("ingresosEgresos").pipe(L(this.destroy)).subscribe(({items:n})=>this.generarEstadisticas(n))}generarEstadisticas(n){this.totalEgresos=0,this.totalIngresos=0,this.ingresos=0,this.egresos=0;for(let s of n)s.tipo==="ingreso"?(this.totalIngresos+=s.monto,this.ingresos++):(this.totalEgresos+=s.monto,this.egresos++)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=h({type:t,selectors:[["app-estadistica"]],standalone:!0,features:[c],decls:48,vars:16,consts:[[1,"row"],[1,"col-6"],[1,"card","card-statistics"],[1,"card-body"],[1,"clearfix"],[1,"float-left"],[1,"fa","fa-money-bill-alt","text-success","icon-lg"],[1,"float-right"],[1,"mb-0","text-right"],[1,"fluid-container"],[1,"font-weight-medium","text-right","mb-0"],[1,"text-muted","mt-3","mb-0"],["aria-hidden","true",1,"mdi","mdi-alert-octagon","mr-1"],[1,"fa","fa-shipping-fast","text-danger","icon-lg"],[1,"row","m-5"],[1,"col-12"],[1,"fa","fa-building","text-info","icon-lg"],[1,"font-weight-medium","text-right","mb-0",3,"ngClass"],["class","col-12 p-5",4,"ngIf"],[1,"col-12","p-5"],[1,"card-title"],[3,"totalIngresos","totalEgresos"]],template:function(s,e){s&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),d(6,"i",6),i(),o(7,"div",7)(8,"p",8),r(9,"Ingresos"),i(),o(10,"div",9)(11,"h3",10),r(12),u(13,"currency"),i()()()(),o(14,"p",11),d(15,"i",12),r(16),i()()()(),o(17,"div",1)(18,"div",2)(19,"div",3)(20,"div",4)(21,"div",5),d(22,"i",13),i(),o(23,"div",7)(24,"p",8),r(25,"Egresos"),i(),o(26,"div",9)(27,"h3",10),r(28),u(29,"currency"),i()()()(),o(30,"p",11),d(31,"i",12),r(32),i()()()()(),o(33,"div",14)(34,"div",15)(35,"div",2)(36,"div",3)(37,"div",4)(38,"div",5),d(39,"i",16),i(),o(40,"div",7)(41,"p",8),r(42,"Diferencia"),i(),o(43,"div",9)(44,"h3",17),r(45),u(46,"currency"),i()()()()()()(),b(47,G,6,2,"div",18),i()),s&2&&(l(12),m(" ",f(13,7,e.totalIngresos)," "),l(4),m(" ",e.ingresos," ingresos "),l(12),m(" ",f(29,9,e.totalEgresos)," "),l(4),m(" ",e.egresos," egresos "),l(12),g("ngClass",S(13,k,e.totalIngresos-e.totalEgresos>0,e.totalIngresos-e.totalEgresos<0)),l(),m(" ",f(46,11,e.totalIngresos-e.totalEgresos)," "),l(2),g("ngIf",e.ingresos>0||e.egresos>0))},dependencies:[B,F,M,T,q]});let a=t;return a})();export{et as EstadisticaComponent};
